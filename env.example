MONGODB_URI=mongodb+srv://<user>:<password>@<cluster-url>/?retryWrites=true&w=majority
MONGODB_DB=mongo_hack
VOYAGE_API_KEY=sk-voyage-xxxx
OPENAI_API_KEY=sk-openai-xxxx
YOUTUBE_API_KEY=yt-xxxx
OPENAI_DEFAULT_MODEL=gpt-4o-mini


# Embeddings (Voyage AI)
VOYAGE_EMBED_MODEL=voyage-2
VOYAGE_MAX_RETRIES=4
VOYAGE_TIMEOUT=60
VOYAGE_BACKOFF_BASE=1.5
VOYAGE_RPM=20
VOYAGE_JITTER_MS=250

# RAG Weights (used in app/services/rag.py)
RAG_WEIGHT_VECTOR=0.6
RAG_WEIGHT_TRUST=0.25
RAG_WEIGHT_RECENCY=0.15

# Clean stage
# Toggle LLM path: set to 1 to enable
CLEAN_WITH_LLM=0
# Re-upsert existing cleaned docs (default false)
CLEAN_UPSERT_EXISTING=false
# Concurrency for LLM cleaning
CLEAN_CONCURRENCY=4

# Enrich stage
ENRICH_WITH_LLM=0
ENRICH_UPSERT_EXISTING=false
# Optional enforcement of tag/keyphrase count caps
ENRICH_ENFORCE_COUNTS=false
# Concurrency for LLM enrichment
ENRICH_CONCURRENCY=8

# Chunk+Embed stage
CHUNK_WITH_LLM=0
CHUNK_UPSERT_EXISTING=false
# Concurrency knob for future LLM chunking
CHUNK_CONCURRENCY=4
EMBEDDER=voyage
VECTOR_DIM=1024

# Redundancy stage
DEDUP_WITH_LLM=0
DEDUP_UPSERT_EXISTING=false
DEDUP_THRESHOLD=0.92
DEDUP_LLM_MARGIN=0.03
DEDUP_LLM_TOPK=1
DEDUP_SKIP_ADJACENT=true
DEDUP_NONADJ_FALLBACK=true
DEDUP_ADJ_OVERRIDE=0.975

# Trust stage
TRUST_WITH_LLM=0
TRUST_UPSERT_EXISTING=false
TRUST_LLM_AUTO=true
TRUST_LLM_BAND_LOW=0.40
TRUST_LLM_BAND_HIGH=0.70
TRUST_LLM_NEIGHBORS=2

# Retrieval/UI
TOP_K=8
LLM_STREAMING=false

# Generic LLM retry/backoff (used by shared concurrency helper)
LLM_RETRIES=1
LLM_BACKOFF_S=0.5

# Session/feedback (UI)
SESSION_ID=

